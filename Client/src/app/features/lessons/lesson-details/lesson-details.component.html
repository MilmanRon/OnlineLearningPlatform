<div class="container">
  <div class="row">
    <h1 class="text-center">{{ lesson()?.title }}</h1>
  </div>
  <div class="row ratio ratio-16x9">
    <div class="text-center">
      <div class="ratio ratio-16x9">
        <iframe [src]="safeVideoUrl()" class="rounded shadow-sm m-3"> </iframe>
      </div>
    </div>
  </div>

  @if(userStore.user()?.role === Role.Student){
      <div class="row mt-3">
        <div class="text-center">
            <button
              [disabled]="isProcessing()"
              class="btn text-white"
              [ngClass]="lesson()?.isCompleted ? 'btn-success' : 'btn-info'"
              (click)="lesson()?.isCompleted ? deleteProgress() : addProgress()"
            >
              <div>
                {{ lesson()?.isCompleted ? "Completed" : "Mark as Completed" }}
              </div>
            </button>
        </div>
      </div>
  }
</div>
